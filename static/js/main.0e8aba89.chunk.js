(this["webpackJsonpmission-2120"]=this["webpackJsonpmission-2120"]||[]).push([[0],{27:function(e,a,t){e.exports=t(38)},33:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(8),l=t.n(s),c=(t(32),t(33),t(16)),i=(t(34),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__left"},r.a.createElement("div",{className:"header__logo-container"},r.a.createElement("img",{src:"img/icon-1.png",className:"header__logo",alt:"Logo"})),r.a.createElement("div",{className:"header__search-container"},r.a.createElement("img",{src:"img/icon-12.png",className:"header__search-icon",alt:"Magnifying glass"}),r.a.createElement("input",{type:"text",className:"header__input",placeholder:"Search"}))),r.a.createElement("div",{className:"header__right"},r.a.createElement("div",{className:"header__bell-container"},r.a.createElement("img",{src:"img/icon-11.png",className:"header__bell",alt:"Notifications"})),r.a.createElement("div",{className:"header__avatar-container"},r.a.createElement("img",{src:"img/avatar.png",className:"header__avatar",alt:"Current user"}))))}),o=function(){return r.a.createElement("aside",{className:"sidebar"},r.a.createElement("div",{className:"sidebar__skeleton"}),r.a.createElement("div",{className:"sidebar__content"},r.a.createElement("img",{src:"img/icon-2.png",className:"sidebar__icon",alt:"Dashboard"}),r.a.createElement("img",{src:"img/icon-3.png",className:"sidebar__icon",alt:"Dashboard"}),r.a.createElement("img",{src:"img/icon-9.png",className:"sidebar__icon",alt:"Dashboard"}),r.a.createElement("img",{src:"img/icon-4.png",className:"sidebar__icon",alt:"Dashboard"}),r.a.createElement("img",{src:"img/icon-5.png",className:"sidebar__icon",alt:"Dashboard"}),r.a.createElement("img",{src:"img/icon-6.png",className:"sidebar__icon",alt:"Dashboard"}),r.a.createElement("img",{src:"img/icon-7.png",className:"sidebar__icon",alt:"Dashboard"})))},m=function(e){var a=e.closeToast;return r.a.createElement("i",{className:"Toastify__toast-close-icon",onClick:a},"\xd7")},d=t(25),u=t(20),h=t(13),g=t(14),_=t(18),b=t(15),p=t(5),E=t(17),f=t(12),v=t(11),N=t(19),C=t(26),k=t(23),y=t.n(k),M=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",n="".concat(e);if(n.length>=a)return e;var r=new Array(a-n.length+1).join(t);return"".concat(r).concat(n)},O=function(e){return y.a.formatMoney(e,"",2,".",",")},S=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e.sort((function(e,t){return e[a]-t[a]}))},B=function(e){function a(e){var t;return Object(h.a)(this,a),(t=Object(_.a)(this,Object(b.a)(a).call(this,e))).state={untouched:!0},t.onChange=t.onChange.bind(Object(p.a)(t)),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"onChange",value:function(e){this.setState({untouched:!1});var a=e.target.value,t=this.getRawValue(a);isNaN(t)||this.props.onChange(a,parseFloat(t,10))}},{key:"getRawValue",value:function(e){return e.split(".").join("").replace(",",".")}},{key:"render",value:function(){var e;return e=!0===this.state.untouched?O(this.props.value):this.props.value,r.a.createElement(C.a,{"aria-label":this.props.arialLabel,"aria-describedby":this.props.arialDescribedBy,type:"text",value:e,onChange:this.onChange.bind(this),autoFocus:!0,placeholder:this.props.placeholder,className:this.props.className})}}]),a}(r.a.Component),w=function(e){return r.a.createElement("tr",{className:"main__table-row",onClick:e.handleClick},r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",className:"main__checkbox",onClick:e.handleClickCheckbox})),r.a.createElement("td",null,e.consumerId),r.a.createElement("td",null,r.a.createElement("img",{src:"img/logo-".concat(e.consumerId,".png"),className:"main__row-logo",alt:"Company Logo"})),r.a.createElement("td",null,e.consumerName),r.a.createElement("td",null,"\u20ac",O(e.consumerBudget)),r.a.createElement("td",null,"\u20ac",O(e.consumerBudgetSpent)),r.a.createElement("td",null,function(e){var a=new Date(e),t=a.getDate(),n=a.getMonth()+1,r=a.getFullYear();return"".concat(M(t),"/").concat(M(n),"/").concat(r)}(e.consumerDateFirstPurchase)),r.a.createElement("td",null,r.a.createElement("img",{src:"img/icon-8.png",className:"main__row-action",alt:"Further actions"})))},j=[{id:1,name:"Starbucks",budget:94726.572,budget_spent:5783.7122,date_of_first_purchase:"2119-03-16"},{id:2,name:"NBC",budget:56104.0294,budget_spent:3943.5729,date_of_first_purchase:"2119-09-20"},{id:3,name:"Dominos",budget:17573.661,budget_spent:6852.0139,date_of_first_purchase:"2119-01-21"},{id:4,name:"Shell",budget:94624.3092,budget_spent:1049.9294,date_of_first_purchase:"2119-12-30"},{id:5,name:"Pepsi",budget:46105.361,budget_spent:2934.5724,date_of_first_purchase:"2119-07-14"},{id:6,name:"Dove",budget:89240.4619,budget_spent:5823.4991,date_of_first_purchase:"2119-10-07"},{id:7,name:"Dell",budget:30194.1613,budget_spent:9494.3966,date_of_first_purchase:"2119-01-07"},{id:8,name:"Fanta",budget:35124.1049,budget_spent:4935.1464,date_of_first_purchase:"2119-04-02"},{id:9,name:"LG",budget:64948.1485,budget_spent:4158.4957,date_of_first_purchase:"2119-03-19"},{id:10,name:"Volkswagen",budget:10353.303,budget_spent:9485.7635,date_of_first_purchase:"2119-06-15"},{id:11,name:"Adidas",budget:12833.8845,budget_spent:5772.5588,date_of_first_purchase:"2119-10-03"},{id:12,name:"Cisco",budget:42952.2296,budget_spent:6620.0029,date_of_first_purchase:"2119-12-12"},{id:13,name:"Airbnb",budget:91835.6295,budget_spent:9246.2153,date_of_first_purchase:"2119-05-08"}],D=function(e){function a(e){var t;return Object(h.a)(this,a),(t=Object(_.a)(this,Object(b.a)(a).call(this,e))).state={consumers:j,modalOpen:!1,currentConsumer:{},modalErrorMessage:""},t.handleOpenModal=t.handleOpenModal.bind(Object(p.a)(t)),t.handleCloseModal=t.handleCloseModal.bind(Object(p.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(p.a)(t)),t.handleSaveChanges=t.handleSaveChanges.bind(Object(p.a)(t)),t.updateConsumerBudget=t.updateConsumerBudget.bind(Object(p.a)(t)),t.setModalErrorMessage=t.setModalErrorMessage.bind(Object(p.a)(t)),t.getConsumers=t.getConsumers.bind(Object(p.a)(t)),t}return Object(E.a)(a,e),Object(g.a)(a,[{key:"handleOpenModal",value:function(e){this.setState({modalOpen:!0,currentConsumer:Object(u.a)({},e,{budget_untouched:O(e.budget)})})}},{key:"handleCloseModal",value:function(){this.setState({modalOpen:!1,currentConsumer:{},modalErrorMessage:""})}},{key:"handleInputChange",value:function(e,a){this.setState({currentConsumer:Object(u.a)({},this.state.currentConsumer,{budget:e,budget_raw:a})})}},{key:"handleSaveChanges",value:function(){var e=this.state.currentConsumer;this.isSameBudget(e)?this.handleCloseModal():this.isValidBudget(e)?this.isMoreThanSpent(e)?(this.setModalErrorMessage(""),this.updateConsumerBudget(e)):this.setMoreThanSpentError(e.budget_spent):this.setInvalidBudgetError()}},{key:"isSameBudget",value:function(e){return e.budget_raw===e.budget_untouched}},{key:"isValidBudget",value:function(e){return e&&e.budget_raw&&!isNaN(e.budget_raw)}},{key:"isMoreThanSpent",value:function(e){return e.budget_raw>=parseFloat(e.budget_spent.toFixed(2))}},{key:"setMoreThanSpentError",value:function(e){this.setModalErrorMessage("Ops... the budget must be higher than the spent budget (\u20ac".concat(O(e),")"))}},{key:"setInvalidBudgetError",value:function(){this.setModalErrorMessage("Ops... the budget must be a valid number")}},{key:"updateConsumerBudget",value:function(e){var a=this.getConsumers().filter((function(a){return a.id!==e.id}));this.setState({modalOpen:!1,consumer:{},consumers:S([].concat(Object(d.a)(a),[Object(u.a)({},e,{budget:e.budget_raw})]))}),this.handleSuccess()}},{key:"setModalErrorMessage",value:function(e){this.setState({modalErrorMessage:e})}},{key:"handleClickCheckbox",value:function(e){return e.preventDefault(),!1}},{key:"handleSuccess",value:function(){c.b.success("Budged updated successfully")}},{key:"getConsumers",value:function(){return this.state.consumers}},{key:"render",value:function(){var e=this,a=this.state,t=a.consumers,n=a.modalOpen,s=a.currentConsumer,l=a.modalErrorMessage;return r.a.createElement("div",{className:"main__container"},r.a.createElement("div",{className:"main__delimiter"},r.a.createElement("div",{className:"main__header"},r.a.createElement("h1",{className:"main__title"},"Consumers",r.a.createElement("small",{className:"main__counter"},"(",t.length,")")),r.a.createElement("div",{className:"main__actions"},r.a.createElement(f.a,{variant:"light",className:"main__button-light"},"Filter",r.a.createElement("img",{src:"img/icon-14.png",className:"main__filter-icon",alt:"Filter"})),r.a.createElement(f.a,{variant:"primary",className:"main__button-primary"},"Add Consumer",r.a.createElement("img",{src:"img/icon-13.png",className:"main__plus-icon",alt:"Add"})))),r.a.createElement("table",{className:"main__table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"main__table-header-row"},r.a.createElement("th",{className:"main__table-header-checkbox"},r.a.createElement("input",{type:"checkbox",className:"main__checkbox"})),r.a.createElement("th",{className:"main__table-header-id"},"ID"),r.a.createElement("th",{className:"main__table-header-logo"},"COMPANY"),r.a.createElement("th",{className:"main__table-header-name"},"NAME"),r.a.createElement("th",{className:"main__table-header-budget"},"BUDGET"),r.a.createElement("th",{className:"main__table-header-budget-spent"},"BUDGET SPENT"),r.a.createElement("th",{className:"main__table-header-date"},"DATE OF FIRST PURCHASE"),r.a.createElement("th",null,"\xa0"))),r.a.createElement("tbody",{className:"main__table-body"},S(t).map((function(a){return r.a.createElement(w,{key:"consumer-".concat(a.id),handleClick:function(){return e.handleOpenModal(a)},handleClickCheckbox:e.handleClickCheckbox,consumerId:a.id,consumerName:a.name,consumerBudget:a.budget,consumerBudgetSpent:a.budget_spent,consumerDateFirstPurchase:a.date_of_first_purchase})}))))),r.a.createElement(v.a,{show:n,onHide:this.handleCloseModal,centered:!0},r.a.createElement(v.a.Header,{closeButton:!0},void 0!==s.name&&r.a.createElement(v.a.Title,null,r.a.createElement("img",{src:"img/logo-".concat(s.id,".png"),className:"modal__logo",alt:"Company Logo"}),s.name)),void 0!==s.budget&&r.a.createElement(v.a.Body,null,l&&r.a.createElement("p",{className:"modal__error-message"},l),r.a.createElement("div",{className:"row modal__body"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"modal__label"},"Total budget:")),r.a.createElement("div",{className:"col-6"},r.a.createElement(N.a,{className:"mb-3"},r.a.createElement(N.a.Prepend,null,r.a.createElement(N.a.Text,{id:"basic-addon1"},"\u20ac")),r.a.createElement(B,{placeholder:s.budget_untouched,value:s.budget,onChange:this.handleInputChange,className:"form-control",arialLabel:"Consumer budget",arialDescribedBy:""}))))),r.a.createElement(v.a.Footer,null,r.a.createElement(f.a,{variant:"light",onClick:this.handleCloseModal},"Close",r.a.createElement("img",{src:"img/icon-16.png",className:"modal__close-icon",alt:"Close"})),r.a.createElement(f.a,{variant:"primary",onClick:this.handleSaveChanges},"Save Changes",r.a.createElement("img",{src:"img/icon-15.png",className:"modal__check-icon",alt:"Check mark"})))))}}]),a}(r.a.Component),x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{autoClose:2e3,hideProgressBar:!0,closeButton:r.a.createElement(m,null)}),r.a.createElement(i,null),r.a.createElement("main",{className:"main"},r.a.createElement(o,null),r.a.createElement(D,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.0e8aba89.chunk.js.map